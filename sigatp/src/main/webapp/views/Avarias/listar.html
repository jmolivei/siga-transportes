#{extends 'main.html' /}

#{set title:'SIGA-Transporte' /}

<div class="gt-bd clearfix">
	<div class="gt-content clearfix">
		<h2>Avarias</h2>

#{if avarias.size() > 0}
		<div class="gt-content-box gt-for-table">
		 	<table id="htmlgrid" class="gt-table" >
		 		<thead>
		    	<tr style="font-weight: bold;">
		    	    <th width="15%">Ve&iacute;culo</th>
			   		<th width="10%">Data Registro</th>
			   		<th width="10%">Data Solu&ccedil;&atilde;o</th>
			   		<th>Descri&ccedil;&atilde;o</th>
			   		<th width="5%"></th>
			   		<th width="5%"></th>
				</tr>
				</thead>
				<tbody>
	#{list avarias, as:'item'}
			   	<tr>
		    	    <td><a href="listarPorVeiculo?idVeiculo=${item.veiculo?.id}" alt="Veja apenas as avarias desde ve&iacute;culo">${item.veiculo?.dadosParaExibicao}</a></td>
		    		<td>${item.dataDeRegistro?.format('dd/MM/yyyy')}</td>
		    		<td>${item.dataDeSolucao?.format('dd/MM/yyyy')}</td>
		    		<td style="white-space: pre-line;">${item.descricao}</td>
		    		<td><a href="@{Avarias.editar(item.id, false)}">Editar</a></td>
		    		<td><a onclick="javascript:return confirm('Tem certeza de que deseja excluir esta avaria?');" href="@{Avarias.excluir(item.id, false)}">Excluir</a></td>
				</tr>
	#{/list}
	</tbody>
		     </table>
		     		    <div id="pagination"/>
		</div>
#{/if}
#{else}
<br/><h3>N&atilde;o existem avarias cadastradas.</h3>
#{/else}
<div class="gt-table-buttons">
	<a href="@{Avarias.incluir(null)}" class="gt-btn-medium gt-btn-left">&{'views.botoes.incluir'}</a>
</div>
	</div>
</div>
